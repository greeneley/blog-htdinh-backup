"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{2305:function(t,e,n){var i=n(1799),r=n(9396),a=n(828),o=n(5893),s=n(4166),l=n(6368),c=n(2167),u=n(4569),h=n(4645),p=n(8649),d=n(9163),f=n(3382),x=n(4370),m=n(7455),v=n(7002),y=n(9596),k=n(9599),j=n(6414),g=n(3865),Z=n(1013),w=n(4960),C=n(9130),L=n(7294),M=(0,r.Z)((0,i.Z)({},f.j),{background:"white",color:"black"}),E=function(t){return t.x},b=function(t){return t.y},T=(0,j.Z)((function(t){return t.x})).right,D=(0,x.Z)((function(t){var e=t.data,n=t.height,i=t.width,r=t.unit,f=t.noTooltip,x=t.showTooltip,j=t.hideTooltip,D=t.tooltipData,_=t.tooltipLeft,B=t.tooltipTop,O=(0,a.Z)(L.useState(!1),2),S=O[0],W=O[1],q={initial:{pathLength:0},animate:{pathLength:1,transition:{ease:"easeInOut",duration:2}}},I=(0,w.c)(0);L.useEffect((function(){setTimeout((function(){return W(!0)}),500)}),[]);var R,H,N,z,F=e.map((function(t){return{x:new Date(t.x),y:t.y}})).sort((function(t,e){return t.x-e.x})),A=L.useMemo((function(){return(0,s.Z)({range:[-4,i+2],domain:(0,g.Z)(F,(function(t){return t.x}))})}),[F,i]),G=L.useMemo((function(){return(0,l.Z)({range:[n,0],domain:[Math.min.apply(Math,F.map((function(t){return t.y}))),Math.max.apply(Math,F.map((function(t){return t.y})))],nice:!0})}),[F,n]),P=L.useCallback((function(t){var e=((0,v.Z)(t)||{x:0}).x,n=A.invert(e),i=T(F,n,1),r=F[i-1];x({tooltipData:r,tooltipLeft:e,tooltipTop:G(b(r))})}),[A,F,x,G]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("svg",{width:i,height:n,children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"hr",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,o.jsx)("stop",{offset:"20%",stopColor:"hsl(var(--palette-pink-50))",stopOpacity:.8}),(0,o.jsx)("stop",{offset:"99%",stopColor:"hsl(var(--palette-pink-50))",stopOpacity:0})]})}),(0,o.jsx)(y.Z,{id:"myClip",children:(0,o.jsx)(C.E.rect,{x:0,y:0,height:n,initial:"initial",animate:"animate",variants:{initial:{width:"0%"},animate:{width:"100%",transition:{delay:.5,ease:"easeInOut",duration:2}}}})}),(0,o.jsxs)(k.Z,{clipPath:"url(#myClip)",children:[(0,o.jsx)(u.Z,{data:F,x:function(t){return null!==(R=A(E(t)))&&void 0!==R?R:0},y:function(t){return null!==(H=G(b(t)))&&void 0!==H?H:0},yScale:G,curve:c.Z,fill:"url(#hr)",strokeWidth:0}),(0,o.jsx)(h.Z,{data:F,x:function(t){return null!==(N=A(E(t)))&&void 0!==N?N:0},y:function(t){return null!==(z=G(b(t)))&&void 0!==z?z:0},curve:c.Z,children:function(t){var e=(0,t.path)(F)||"";return(0,o.jsx)(o.Fragment,{children:S&&(0,o.jsx)(C.E.path,{d:e,strokeWidth:2,strokeOpacity:.8,strokeLinecap:"round",fill:"none",stroke:"hsl(var(--palette-pink-50))",initial:"initial",animate:"animate",variants:q,style:{strokeDashoffset:I,strokeDasharray:I}})})}})]}),(0,o.jsx)(p.Z,{width:i,height:n,fill:"transparent",rx:14,onTouchStart:P,onTouchMove:P,onMouseMove:P,onMouseLeave:function(){return j()}}),D&&!f&&(0,o.jsxs)("g",{children:[(0,o.jsx)(d.Z,{from:{x:_,y:0},to:{x:_,y:n},stroke:"var(--maximeheckel-colors-typeface-primary)",strokeWidth:2,pointerEvents:"none",strokeDasharray:"1,3",strokeOpacity:.2}),(0,o.jsx)("circle",{cx:_,cy:B||1,r:4,fill:"black",fillOpacity:.1,stroke:"black",strokeOpacity:.1,strokeWidth:2,pointerEvents:"none"}),(0,o.jsx)("circle",{cx:_,cy:B,r:4,fill:"black",stroke:"white",strokeWidth:2,pointerEvents:"none"})]})]}),D&&!f&&(0,o.jsx)("div",{children:(0,o.jsxs)(m.Z,{top:B,left:_,style:M,children:[(0,o.jsx)("div",{children:"".concat(b(D)," ").concat(r)}),(0,o.jsx)("div",{children:(0,Z.Z)(E(D),"yyyy-MM-dd HH:mm")})]},Math.random())})]})}));e.Z=D},176:function(t,e,n){n.r(e);var i=n(7568),r=n(7297),a=n(655),o=n(5893),s=n(2305),l=n(2923),c=n(9130),u=n(8687),h=n(1130),p=n(7301),d=n(3145),f=n(3454);function x(){var t=(0,r.Z)(["\n          query {\n            allEntriesSortedByDate(_size: 1) {\n              data {\n                date\n                heartRate {\n                  value\n                  timestamp\n                }\n                steps {\n                  value\n                  timestamp\n                }\n              }\n            }\n          }\n        "]);return x=function(){return t},t}var m=(0,h.g)("div",{fontSize:"14px",fontWeight:"500",marginBottom:"0px"}),v=f.env.NEXT_PUBLIC_FAUNADB_SECRET,y=new u.GraphQLClient("https://graphql.fauna.com/graphql",{headers:{authorization:"Bearer ".concat(v)}});var k=function(t){var e=t.bpm;return(0,o.jsx)(c.E.svg,{style:{marginLeft:"8px",marginBottom:"-4px"},width:"20",height:"20",viewBox:"0 0 25 24",fill:"hsl(var(--palette-pink-50))",xmlns:"http://www.w3.org/2000/svg",initial:{scale:.8},animate:{scale:1.2},transition:{ease:"easeInOut",repeat:1/0,repeatType:"mirror",duration:60/e/2},children:(0,o.jsx)("path",{d:"M21.4551 4.60999C20.9443 4.099 20.3379 3.69364 19.6704 3.41708C19.003 3.14052 18.2876 2.99817 17.5651 2.99817C16.8426 2.99817 16.1272 3.14052 15.4597 3.41708C14.7923 3.69364 14.1858 4.099 13.6751 4.60999L12.6151 5.66999L11.5551 4.60999C10.5234 3.5783 9.12411 2.9987 7.66508 2.9987C6.20605 2.9987 4.80677 3.5783 3.77508 4.60999C2.74339 5.64169 2.16379 7.04096 2.16379 8.49999C2.16379 9.95903 2.74339 11.3583 3.77508 12.39L4.83508 13.45L12.6151 21.23L20.3951 13.45L21.4551 12.39C21.9661 11.8792 22.3714 11.2728 22.648 10.6053C22.9246 9.93789 23.0669 9.22248 23.0669 8.49999C23.0669 7.77751 22.9246 7.0621 22.648 6.39464C22.3714 5.72718 21.9661 5.12075 21.4551 4.60999V4.60999Z",stroke:"#ff008c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})};e.default=function(){var t=(0,d.aM)("data",(0,i.Z)((function(){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,y.request((0,u.gql)(x()))];case 1:return[2,t.sent().allEntriesSortedByDate.data]}}))})),{refetchInterval:3e5}),e=t.data,n=t.isFetching,r=(e?e[0]:{heartRate:[]}).heartRate.map((function(t){return{y:t.value,x:new Date(t.timestamp).getTime()}}));return(0,o.jsxs)(p.a,{css:{marginBottom:"2.25rem"},children:[(0,o.jsxs)(p.a.Header,{children:[(0,o.jsx)(m,{children:"Heart Rate"}),0!==r.length?(0,o.jsxs)(m,{children:["Last entry: ",r[0].y," bpm",(0,o.jsx)(k,{bpm:r[0].y})]}):null]}),n&&0===r.length?null:(0,o.jsx)(l.Z,{children:function(t){var e=t.width;return(0,o.jsx)(s.Z,{width:e,height:220,data:r,unit:"bpm"})}})]})}}}]);